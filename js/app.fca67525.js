(function(t){function e(e){for(var n,r,s=e[0],u=e[1],l=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var u=a[s];0!==o[u]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),o=a.n(n);o.a},1:function(t,e){},"3a7d":function(t,e,a){},"567d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-menu",{staticClass:"main-navigation",attrs:{"default-active":this.$route.path,mode:"horizontal",router:""}},[a("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"/nation"}},[t._v("全国")]),a("el-menu-item",{attrs:{index:"/province"}},[t._v("局部")])],1),a("router-view")],1)},i=[],r={name:"App",data:function(){return{}},components:{},created:function(){console.log("create")}},s=r,u=(a("034f"),a("2877")),l=Object(u["a"])(s,o,i,!1,null,null,null),c=l.exports,d=a("5c96"),m=a.n(d),p=(a("0fae"),a("54ba"),a("2f62")),h=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Main"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("div",{attrs:{id:"main-title"}},[t._v("基于疫情和政策影响的舆情分析")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("div",{attrs:{id:"sub-title"}},[t._v("Statistics ｜ Policies ｜ Opinions")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-divider",{attrs:{"content-position":"left"}},[a("el-link",{attrs:{icon:"el-icon-info",underline:"true"},on:{click:function(e){t.isDialogVisible=!0}}},[t._v("关于")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{attrs:{id:"guide"}},[t._v("点击按钮或导航栏开始您的体验。")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"main-card",attrs:{shadow:"never"}},[a("el-button",{staticClass:"main-button",attrs:{type:"primary"},on:{click:function(e){return t.toDetailPage("/nation")}}},[t._v("全国")])],1)],1),a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"main-card",attrs:{shadow:"never"}},[a("el-button",{staticClass:"main-button",attrs:{type:"primary"},on:{click:function(e){return t.toDetailPage("/province")}}},[t._v("局部")])],1)],1)],1),a("el-dialog",{attrs:{title:"关于",visible:t.isDialogVisible,width:"30%",center:"","show-close":""},on:{"update:visible":function(e){t.isDialogVisible=e}}},[a("span",[t._v("这里是本系统的功能介绍和免责声明.")]),a("span",[t._v("但是具体我还没想好写啥")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isDialogVisible=!1}}},[t._v("我已了解")])],1)])],1)},v=[],b={name:"Main",data:function(){return{isDialogVisible:!1}},methods:{toDetailPage:function(t){this.$router.push(t)}}},g=b,w=(a("c266"),Object(u["a"])(g,f,v,!1,null,null,null)),C=w.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Nation"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{id:"map-card",shadow:"never"}},[a("div",{attrs:{id:"nationMap"}})])],1),a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{id:"table-card",shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.nationTable,border:"",id:"nation-table","cell-style":{"vertical-align":"top"}}},[a("el-table-column",{attrs:{prop:"name",label:"统计类型"}}),a("el-table-column",{attrs:{prop:"value",label:"统计人数"}})],1)],1)],1)],1),a("el-divider"),a("div",{attrs:{id:"nationSunBurst"}})],1)},M=[],y=a("313e"),S=a.n(y),$=(a("3139"),{name:"Nation",data:function(){return{nationTable:[],nationMapChart:"",nationSunBurstChart:"",mapOption:{title:{text:"全国最新疫情地图"},series:{name:"确诊人数",type:"map",map:"china",label:{show:!0,color:"#333",fontSize:10},itemStyle:{areaColor:"#eee"},roam:!0,zoom:1.2,emphasis:{label:{color:"#fff",fontSize:12},itemStyle:{areaColor:"#ccc"}},data:[]},visualMap:[{type:"piecewise",show:!0,pieces:[{min:1e4},{min:1e3,max:9999},{min:100,max:999},{min:10,max:99},{min:1,max:9},{max:0}],inRange:{symbol:"rect",color:["#FFD318","#FFAA85","#FF7B69","#CC2929","#8C0D0D","#660208"]},tooltip:{trigger:"item"}}]},sunBurstOption:{title:{text:"全国疫情旭日图"},series:{type:"sunburst",data:[]}}}},watch:{"$store.state.mainModule.shouldNationDataShown":function(){1==this.$store.state.mainModule.shouldNationDataShown&&(this.drawNationMap("nationMap"),this.drawSunBurst("nationSunBurst"),this.drawNationTable(),this.$store.commit("mainModule/resetFlag"))}},methods:{drawNationMap:function(t){console.log("draw map");for(var e=0;e<this.$store.state.mainModule.provinceCount;e++)this.mapOption.series.data.push({name:this.$store.state.mainModule.nationData[e].provinceShortName,value:this.$store.state.mainModule.nationData[e].confirmedCount});this.nationMapChart=S.a.init(document.getElementById(t)),this.nationMapChart.setOption(this.mapOption)},drawSunBurst:function(t){console.log(this.$store.state.mainModule.nationData);for(var e=0;e<this.$store.state.mainModule.provinceCount;e++)"湖北"!=this.$store.state.mainModule.nationData[e].provinceShortName&&this.sunBurstOption.series.data.push({name:this.$store.state.mainModule.nationData[e].provinceShortName+"累计确诊",value:this.$store.state.mainModule.nationData[e].confirmedCount,children:[{name:"今日确诊",value:this.$store.state.mainModule.nationData[e].currentConfirmefdCount},{name:"累计治愈",value:this.$store.state.mainModule.nationData[e].curedCount},{name:"累计死亡",value:this.$store.state.mainModule.nationData[e].deadCount}]});this.nationSunBurstChart=S.a.init(document.getElementById(t)),this.nationSunBurstChart.setOption(this.sunBurstOption)},drawNationTable:function(){this.nationTable=[{name:"现存确诊病例",value:this.$store.state.mainModule.chinaData.currentConfirmedCount},{name:"累计确诊病例",value:this.$store.state.mainModule.chinaData.confirmedCount},{name:"累计疑似病例",value:this.$store.state.mainModule.chinaData.suspectedCount},{name:"累计治愈病例",value:this.$store.state.mainModule.chinaData.curedCount},{name:"累计死亡病例",value:this.$store.state.mainModule.chinaData.deadCount}],console.log(this.$store.state.mainModule.chinaData)}},created:function(){console.log("create Nation"),0==this.$store.state.mainModule.nationData.length?this.$store.dispatch("mainModule/getInstantNationData"):this.$store.state.mainModule.shouldNationDataShown=!0},mounted:function(){}}),_=$,N=(a("fcdd"),Object(u["a"])(_,D,M,!1,null,null,null)),O=N.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Province"}},[a("p",[t._v("This is Province Module")])])}],j={name:"Province",data:function(){return{}},methods:{}},B=j,T=Object(u["a"])(B,x,P,!1,null,null,null),k=T.exports;n["default"].use(h["a"]);var F=new h["a"]({mode:"history",routes:[{path:"/",name:"Main",component:C},{path:"/nation",name:"Nation",component:O},{path:"/province",name:"Nation",component:k}]}),I=F,E=a("bc3a"),V=a.n(E),z={urlPref:"https://lab.isaaclin.cn/nCoV/api",nationData:[],provinceCount:34,shouldNationDataShown:!1,chinaIndex:0,chinaData:null},A={getInstantNationData:function(t,e){for(var a=0;a<e.length;a++)if("中国"==e[a].countryName){if("中国"==e[a].provinceShortName){t.chinaIndex=a,t.chinaData=e[a];continue}t.nationData.push({provinceShortName:e[a].provinceShortName,currentConfirmedCount:e[a].currentConfirmefdCount,confirmedCount:e[a].confirmedCount,suspectedCount:e[a].suspectedCount,curedCount:e[a].curedCount,deadCount:e[a].deadCount})}t.shouldNationDataShown=!0,console.log("finish")},resetFlag:function(t){1==t.shouldNationDataShown&&(t.shouldNationDataShown=!1)}},J={getInstantNationData:function(t){var e="/area?latest=1";V.a.get(z.urlPref+e).then((function(e){t.commit("getInstantNationData",e.data.results)})).catch((function(t){console.log("error in getNationData. err message",t)}))}},R={namespaced:!0,state:z,mutations:A,actions:J};n["default"].use(p["a"]);var q=function(){return new p["a"].Store({modules:{mainModule:R}})},G=q,H=a("ec7e"),K=a.n(H),L=a("28dd");n["default"].config.productionTip=!1,n["default"].use(m.a),n["default"].use(p["a"]),n["default"].use(K.a),n["default"].use(L["a"]),new n["default"]({store:G,router:I,render:function(t){return t(c)}}).$mount("#app")},"85ec":function(t,e,a){},c266:function(t,e,a){"use strict";var n=a("3a7d"),o=a.n(n);o.a},fcdd:function(t,e,a){"use strict";var n=a("567d"),o=a.n(n);o.a}});
//# sourceMappingURL=app.fca67525.js.map